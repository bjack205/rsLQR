<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rsLQR: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rsLQR
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_install.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page provides details about both building the rsLQR from source, as well as using it in other project.</p>
<h2><a class="anchor" id="autotoc_md32"></a>
Building the Library</h2>
<p>The rsLQR library uses CMake as its build system, and follows standard CMake practices. To build the library, follow these steps, starting in the root directory of the repository:</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..             # add additional arguments here</div>
<div class="line">cmake --build . -j4  # build with 4 processors</div>
</div><!-- fragment --><p>The library provides several options for controlling the build, these are detailed below: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable Name </th><th class="markdownTableHeadNone">Options </th><th class="markdownTableHeadNone">Default </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RSLQR_BUILD_TESTS </td><td class="markdownTableBodyNone">ON/OFF </td><td class="markdownTableBodyNone">ON </td><td class="markdownTableBodyNone">Specifies whether or not the test suite should be built  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RSLQR_CODE_COVERAGE </td><td class="markdownTableBodyNone">ON/OFF </td><td class="markdownTableBodyNone">OFF </td><td class="markdownTableBodyNone">Build the library and build code coverage reports. Note this option turns off compiler optimizations so runtime performance will be slow.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RSLQR_LINALG_LIBRARY </td><td class="markdownTableBodyNone">InternalRoutines, Eigen, BLAS </td><td class="markdownTableBodyNone">InternalRoutines </td><td class="markdownTableBodyNone">Select the linear algebra library to use.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RSLQR_NTHREADS_TEST </td><td class="markdownTableBodyNone">Integer </td><td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">Select default number of threads to use for tests.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RSLQR_RUN_FULL_TEST </td><td class="markdownTableBodyNone">ON/OFF </td><td class="markdownTableBodyNone">ON </td><td class="markdownTableBodyNone">Disabling this option will run a less computationally intensive set of tests.  </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md33"></a>
Linear Algebra Library</h3>
<p>If the <code>RSLQR_LINALG_LIBRARY</code> option is set to <code>BLAS</code>, it will download the open-source LAPACK distribution with includes the default NetLib BLAS routines. Note that this build wil take significantly longer since it builds LAPACK and BLAS from source as part of the build.</p>
<p>If the <code>RSLQR_LINALG_LIBRARY</code> option is set to <code>Eigen</code>, the Eigen C++ linear algebra library must be installed on the host computer.</p>
<p>From our benchmarks, the default internal routines provide the best performance when running the algorithm with many threads.</p>
<h3><a class="anchor" id="autotoc_md34"></a>
Default build type</h3>
<p>The <code>CMAKE_BUILD_TYPE</code> defaults to <code>Release</code> if non is specified.</p>
<h3><a class="anchor" id="autotoc_md35"></a>
Specifying the build options</h3>
<p>These options can be specified during the configure step, e.g.: </p><div class="fragment"><div class="line">cmake -D CMAKE_BUILD_TYPE=Debug -D RSLQR_LINALG_LIBRARY=Eigen ..</div>
</div><!-- fragment --><p>or via any CMake cache editor, like the CMake GUI: </p><div class="fragment"><div class="line">cmake-gui .</div>
</div><!-- fragment --><p>The current values of these variables can be queried via the command line: </p><div class="fragment"><div class="line">cmake -L</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md36"></a>
Installing locally</h2>
<p>The library can be installed locally onto your machine using the standard CMake installation steps. After building the library (see previous section), the library can be installed by building the <code>install</code> target: </p><div class="fragment"><div class="line">cmake --build . --target install</div>
</div><!-- fragment --><p>For a custom install location, you need to specify the <code>CMAKE_INSTALL_PREFIX</code> </p><div class="fragment"><div class="line">cmake -D CMAKE_INSTALL_PREFIX=&lt;install directory&gt; ..</div>
<div class="line">cmake --build . --target install</div>
</div><!-- fragment --><p>This will generate the following output in the install directory for a Linux system: </p><div class="fragment"><div class="line">cmake/</div>
<div class="line">  rsLQR.cmake</div>
<div class="line">  rsLQRConfig.cmake</div>
<div class="line">  rsLQRConfigVersion.cmake</div>
<div class="line">  rsLQR-release.cmake</div>
<div class="line">include/</div>
<div class="line">  cjson/</div>
<div class="line">    cJSON.h</div>
<div class="line">  rslqr/</div>
<div class="line">    ...</div>
<div class="line">    ndlqr.h</div>
<div class="line">  cblas.h       # <span class="keywordflow">if</span> <span class="keyword">using</span> BLAS</div>
<div class="line">  ...</div>
<div class="line">  lapacke.h  </div>
<div class="line">bin/</div>
<div class="line">  cmake/</div>
<div class="line">  pkgconfig/</div>
<div class="line">  libblas.so    # <span class="keywordflow">if</span> <span class="keyword">using</span> BLAS</div>
<div class="line">  ...</div>
<div class="line">  libcjson.a </div>
<div class="line">  libeigen_c.a  # <span class="keywordflow">if</span> Eigen3 is installed</div>
<div class="line">  libmatrix.a   </div>
<div class="line">  libslqr.so    # <span class="keywordflow">if</span> building shared library</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md37"></a>
Using a local installation</h2>
<p>If the library is installed locally using the previous section, then the library can be incorporated into another CMake project using standard the <code>find_package</code> procedure. In the <code>CMakeLists.txt</code> file of your project, include the following: </p><div class="fragment"><div class="line">find_package(rsLQR)</div>
</div><!-- fragment --><p>Which imports the following targets: </p><div class="fragment"><div class="line">rsLQR::rslqr    # main target</div>
<div class="line">rsLQR::matrix</div>
<div class="line">rsLQR::cjson</div>
<div class="line">rsLQR::eigen_c  # <span class="keywordflow">if</span> Eigen is install</div>
<div class="line">rsLQR::cblas    # <span class="keywordflow">if</span> <span class="keyword">using</span> BLAS</div>
<div class="line">rsLQR::lapacke  # <span class="keywordflow">if</span> <span class="keyword">using</span> BLAS</div>
</div><!-- fragment --><p>To use the library in your application, simply link against the <code>rsLQR::rslqr</code> target, e.g. </p><div class="fragment"><div class="line">add_executable(main main.c)</div>
<div class="line">target_link_library(main PRIVATE rsLQR::rslqr)</div>
</div><!-- fragment --><p>See the "Install Example" in the <code>examples/</code> directory for a working example.</p>
<h2><a class="anchor" id="autotoc_md38"></a>
Importing the package via FetchContent</h2>
<p>It's often not convenient to require users to build another library in order to use your application. You can easily incorporate this library as part of your CMake project, importing all of its targets, via the <code>FetchContent</code> CMake module. This downloads the GitHub repository locally into your <code>build</code> folder, adds it's CMake build to your top-level CMake build, and builds the library as part of your build system. This project uses this approach to bundle the cJSON library.</p>
<p>To use this approach, copy these lines into your <code>CMakeLists.txt</code>: </p><div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Declare(librslqr</div>
<div class="line">    GIT_REPOSITORY https:<span class="comment">//github.com/bjack205/rsLQR.git</span></div>
<div class="line">    # NOTE: Replace <span class="keyword">this</span> with whichever commit you want to use </div>
<div class="line">    GIT_TAG cda47a585079f8fed5311738aac9db766d21e135 </div>
<div class="line">)</div>
<div class="line">FetchContent_MakeAvailable(librslqr)</div>
</div><!-- fragment --><p>From here, it looks identical to the previous example, since our build system provides alias targets matching all of the installed targets. So to link against the rsLQR library, you simply link against the <code>rsLQR::rslqr</code> target like we did before: </p><div class="fragment"><div class="line">add_executable(main main.c)</div>
<div class="line">target_link_library(main PRIVATE rsLQR::rslqr)</div>
</div><!-- fragment --><p>See the "Import Example" in the <code>examples/</code> directory for a working example. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">rsLQR: A Parallel LQR Solver</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
